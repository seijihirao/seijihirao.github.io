"use strict";function debugify(e,n,s){n||(n=e);var r={entry:"./entrypoints/"+e+"-index.js",format:"iife",moduleName:"webcomponentsjs"};return Object.assign(r,s),rollup(r).pipe(source(e+"-index.js"),"entrypoints").pipe(rename(n+".js")).pipe(gulp.dest("./"))}function closurify(e,n){n||(n=e);var s={new_type_inf:!0,compilation_level:"ADVANCED",language_in:"ES6_STRICT",language_out:"ES5_STRICT",output_wrapper:"(function(){\n%output%\n}).call(self)",assume_function_wrapper:!0,js_output_file:n+".js",warning_level:"VERBOSE",rewrite_polyfills:!1,externs:["externs/webcomponents.js","bower_components/custom-elements/externs/custom-elements.js","bower_components/html-imports/externs/html-imports.js","bower_components/shadycss/externs/shadycss-externs.js","bower_components/shadydom/externs/shadydom.js"]};return rollup({entry:"entrypoints/"+e+"-index.js",format:"iife",moduleName:"webcomponents",sourceMap:!0,context:"window"}).pipe(source(e+"-index.js","entrypoints")).pipe(buffer()).pipe(sourcemaps.init({loadMaps:!0})).pipe(closure(s)).pipe(sourcemaps.write(".")).pipe(gulp.dest("."))}function singleLicenseComment(){var e=!1;return function(n){return!e&&(e=/@license/.test(n))}}var gulp=require("gulp"),sourcemaps=require("gulp-sourcemaps"),buffer=require("vinyl-buffer"),rename=require("gulp-rename"),rollup=require("rollup-stream"),source=require("vinyl-source-stream"),del=require("del"),bower=require("bower"),runseq=require("run-sequence"),closure=require("google-closure-compiler").gulp(),babel=require("rollup-plugin-babel");gulp.task("debugify-hi",function(){return debugify("webcomponents-hi")}),gulp.task("debugify-hi-ce",function(){return debugify("webcomponents-hi-ce")}),gulp.task("debugify-hi-sd-ce",function(){return debugify("webcomponents-hi-sd-ce")}),gulp.task("debugify-hi-sd-ce-pf",function(){return debugify("webcomponents-hi-sd-ce-pf","webcomponents-lite",{context:"window"})}),gulp.task("debugify-sd-ce",function(){return debugify("webcomponents-sd-ce")}),gulp.task("closurify-hi",function(){return closurify("webcomponents-hi")}),gulp.task("closurify-hi-ce",function(){return closurify("webcomponents-hi-ce")}),gulp.task("closurify-hi-sd-ce",function(){return closurify("webcomponents-hi-sd-ce")}),gulp.task("closurify-hi-sd-ce-pf",function(){return closurify("webcomponents-hi-sd-ce-pf","webcomponents-lite")}),gulp.task("closurify-sd-ce",function(){return closurify("webcomponents-sd-ce")});var babelOptions={presets:"babili",shouldPrintComment:singleLicenseComment()};gulp.task("debugify-ce-es5-adapter",function(){return debugify("custom-elements-es5-adapter","",{plugins:[babel(babelOptions)]})}),gulp.task("refresh-bower",function(){return del("bower_components").then(function(){var e=void 0,n=void 0,s=new Promise(function(s,r){e=s,n=r});return bower.commands.install().on("end",function(){return e()}).on("error",function(e){return n(e)}),s})}),gulp.task("default",function(e){runseq("refresh-bower","closure",e)}),gulp.task("clean-builds",function(){return del(["custom-elements-es5-adapter.js{,.map}","webcomponents*.js{,.map}","!webcomponents-loader.js"])}),gulp.task("debug",function(e){runseq("clean-builds",["debugify-hi","debugify-hi-ce","debugify-hi-sd-ce","debugify-hi-sd-ce-pf","debugify-sd-ce","debugify-ce-es5-adapter"],e)}),gulp.task("closure",function(e){var n=["closurify-hi","closurify-hi-ce","closurify-hi-sd-ce","closurify-hi-sd-ce-pf","closurify-sd-ce","debugify-ce-es5-adapter"];runseq.apply(void 0,["clean-builds"].concat(n,[e]))});